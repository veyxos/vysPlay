function vysTime(a){var b=Math.floor(a/60),c=Math.round(a-60*b);return c=c<10?"0"+c:c,b+":"+c}function vysPlay(){for(var a=0;a<document.getElementsByClassName("vysPlay").length;a++){var b=document.getElementsByClassName("vysPlay")[a],c=document.createElement("AUDIO");c.className="vysPlayAudio",c.id="vysPlay_"+a,c.src=b.dataset.src,c.volume=b.dataset.vol?.01*b.dataset.vol:"0.7",c.currentTime=b.dataset.start?b.dataset.start:0,"true"==b.dataset.auto&&c.setAttribute("autoplay","");var d=document.createElement("SPAN");d.className="vysPlayTitle",d.innerHTML=b.dataset.title;var e=document.createElement("SPAN");e.className="vysPlayArtist",e.innerHTML=b.dataset.artist;var f=document.createElement("FORM");f.className="vysPlayVolume",f.oninput=function(a){c.volume=g.value<10?"0.0"+g.value:100==g.value?1:"0."+g.value};var g=document.createElement("INPUT");g.className="vysPlayVolumeSlide",g.id="vysPlayVol_"+a,g.type="range",g.value=b.dataset.vol?b.dataset.vol:"70";var h=document.createElement("FORM");h.className="vysPlayDurationBar",h.oninput=function(a){c.currentTime=c.duration*i.value*.001};var i=document.createElement("INPUT");i.className="vysPlayDurationSlide",i.id="vysPlayDur_"+a,i.type="range",i.value="0",i.min="0",i.max="1000";var j=document.createElement("SPAN");j.className="vysPlayDuration",j.id="vysPlayDurText_"+a,j.innerHTML="0:00 / 0:00";var k=document.createElement("IMG");k.className="vysPlayCover",k.src=b.dataset.cover?b.dataset.cover:"./vysPlay/default-cover.jpg";var l=document.createElement("SPAN");l.className="true"==b.dataset.auto?"vysPlayPlayButton vysIconPause":"vysPlayPlayButton vysIconPlay",l.onclick=function(a){c.paused?(c.play(),this.classList.remove("vysIconPlay"),this.classList.add("vysIconPause")):(c.pause(),this.classList.remove("vysIconPause"),this.classList.add("vysIconPlay"))},b.appendChild(c),b.appendChild(d),b.appendChild(e),b.appendChild(f).appendChild(g),b.appendChild(h).appendChild(i),b.appendChild(j),b.appendChild(k),b.appendChild(l)}setTimeout(function(){for(var a=0;a<document.getElementsByClassName("vysPlay").length;a++)document.getElementById("vysPlayDurText_"+a).innerHTML="0:00 / "+vysTime(document.getElementById("vysPlay_"+a).duration),document.getElementById("vysPlayDur_"+a).value=b.dataset.start?Math.round(b.dataset.start/c.duration*1e3):"0"},50),setInterval(function(){for(var a=0;a<document.getElementsByClassName("vysPlay").length;a++){var b=document.getElementById("vysPlay_"+a);b.paused||(document.getElementById("vysPlayDurText_"+a).innerHTML=vysTime(b.currentTime)+" / "+vysTime(b.duration),document.getElementById("vysPlayDur_"+a).value=Math.round(b.currentTime/b.duration*1e3))}},200)}"loading"!=document.readyState?vysPlay():document.addEventListener("DOMContentLoaded",vysPlay);
